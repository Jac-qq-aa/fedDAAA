import matplotlib.pyplot as plt

# 横轴：训练轮次（比如 1 到 20）
epochs = list(range(1, 21))

# 各方法的准确率曲线 (这里只是示例，请替换为你自己的数据)

dp_fedavg =[21.20620774431469, 23.903657037492316, 31.79778733866011, 41.26382913337431, 46.413644744929314, 49.13375845113707, 49.40265826674862, 50.403733866011066, 51.24308543331284, 51.69176398279042, 50.71834665027659, 52.90527043638599, 52.276813153042404, 53.28019360786724, 53.621312231100184, 53.23063921327597, 54.06077135832821, 54.864781807006764, 55.437922556853096, 55.715135218192995]

PPSGD = [19.883604794099572, 24.238629379225568, 33.82221880762139, 38.79302397049785, 44.15834357713584, 46.67178856791641, 47.99976951444376, 48.80377996312232, 50.4440688383528, 50.44022741241549, 50.00653042409343, 52.405116779348496, 52.21535033804548, 52.89451444376152, 53.657037492317144, 53.13191456668716, 54.18715427166565, 55.55585433312846, 55.29002765826675, 56.275251997541484]

feddpa =[21.20620774431469, 20.11831591886908, 27.546481253841428, 38.58673939766441, 43.09734173325138, 44.75222802704364, 46.414413030116776, 48.43615550092194, 50.57160417947142, 51.658343577135824, 51.49930854333128, 52.94061155500923, 53.383527965580825, 54.968884449907804, 55.540104486785495, 55.96535033804548, 56.73709280885064, 57.90142901044868, 57.84265519360787, 58.041011063306686]

fedaddp =[19.538260602335583, 25.80285802089736, 39.054240934234784, 42.90872771972956, 48.133066994468344, 49.97157344806392, 52.09127228027044, 53.930547019053485, 54.32467732022127, 55.761370620774436, 55.615012292562994, 57.550322679778745, 57.5149815611555, 57.64174861708667, 59.11032575291948, 59.439920098340494, 58.748463429625076, 58.57559926244621, 59.01774738783037, 58.810310387215736]

our = [18.932467732022126, 20.5439459127228, 33.4069606637984, 42.1930700676091, 47.57183466502765, 52.89489858635525, 56.61493546404425, 59.88168408113093, 60.59042716656423, 62.53418869084205, 63.73693915181316, 65.42601413644745, 66.29763368162261, 66.47357098955133, 67.21681007990166, 67.75345728334358, 67.69353103872159, 68.96158574062693, 68.35848186846957, 68.76589735709896]




# 绘制曲线
plt.figure(figsize=(7, 5))
plt.plot(epochs, dp_fedavg, marker='o', label='DP-FedAvg')
plt.plot(epochs, PPSGD, marker='o', label='PPSGD')
plt.plot(epochs, feddpa, marker='o', label='FedDPA')
plt.plot(epochs, fedaddp, marker='o', label='FedADDP', color='purple')
plt.plot(epochs, our, marker='o', label='(Ours)', color='red')

# 图形美化
plt.xlabel("Epochs")
plt.ylabel("Accuracy (%)")
plt.title("Accuracy convergence curve")
plt.legend()
plt.grid(True)

# 添加子图编号
plt.text(20, 55, "", ha="center", va="top", fontsize=12)

plt.savefig(r"C:\Users\1\Desktop\my_plot2.png", dpi=300, bbox_inches="tight")
plt.show()

